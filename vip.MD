# 一、微信卡券

## 1.流程图 [链接](https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1421141229)
![流程图](./imgs/0.jpeg '卡券流程图')

## 2.限制条件
 1. **微信6.0.2版本后才支持卡券功能模块**
 >"Mozilla/5.0(iphone;CPU iphone OS 5_1_1 like Mac OS X)     AppleWebKit/534.46(KHTML,like Geocko)Mobile/9B206 MicroMessenger/6.0.2 "
 2. **公众号会话环境内仅支持调起该公众号域名下的卡券**
 > 公众号会话外（如朋友圈、对话环境）无此限制。

 > Tips:公众号的对话框中发生的行为以及从公众号对话框跳转的网页链接均处于该公众号的会话环境内。
 3. Api编码规则必须为UTF-8

 ## 3.流程详解

### 3.1 [创建卡券](https://mp.weixin.qq.com/wiki?t=resource/res_main&id=mp1451025056)
![流程图](./imgs/1.png '创建卡券流程图')
> 1. 是否自定义Code码（**用与核销**）
> 2. 选择合适的码型 二维码/一维码显示、二维码不显示code、仅code类型、无code类型
> 3. 自定义卡券显示内容 ![自定义卡券图片](./imgs/2.jpeg '自定义卡券图片')
> 4. 设置卡券适用门店
> 5. 选取卡券背景颜色
> 6. **can_share字段指领取卡券原生页面是否可分享**，建议指定Code码、指定OpenID等强限制条件的卡券填写false。
> 7. 可以跳转网页，带有的的字段有加密encrypt_code、card_id
> 8. 卡券跳转的小程序的user_name，仅可跳转该 公众号绑定的小程序 。
> 8. 卡券类型有 团购券、代金券、折扣券、兑换券、优惠券
> 9. 效期的信息
> 10. 卡券领取数量限制
> 11. 高级信息，满减、类目、服务信息（wifi、车位等）、可使用时段

## 4.投放方式
> 1. app卡券、集成sdk
> 2. 二维码卡券
> 3. h5网页卡券（公众号环境问题需要注意）
> 4. 公众号关键字回复
> 5. 公众号群发
> 6. 公众号卡券架
> 7. 公众号自定义菜单
> 8. 公众号图文消息

